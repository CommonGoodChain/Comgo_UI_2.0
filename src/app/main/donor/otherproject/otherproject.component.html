<div id="cards" class="page-layout simple fullwidth" style="background-color: white;">
  <!-- <div fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="space-between center">

    <mat-form-field class="category-selector">

        <mat-select placeholder="{{'Select Organisation' | translate}}" [(ngModel)]="currentOrgs" (selectionChange)="filterProjectsByOrgs()">
            <mat-option *ngFor="let org of orgName" [value]="org">
                {{org | translate}}
            </mat-option>
        </mat-select>

    </mat-form-field>
    <mat-form-field class="category-selector">

        <mat-select placeholder="{{'Select Project Type' | translate}}" [(ngModel)]="currentCategory" (selectionChange)="filterProjectsByCategory()">
            <mat-option *ngFor="let category of projectType" [value]="category">
                {{category | translate}}
            </mat-option>
        </mat-select>

    </mat-form-field>
    <form class="example-form">

      <mat-form-field class="example-full-width">
        <input type="tel" matInput placeholder="{{'Search' | translate}}">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      
    </form>
</div>  -->
  <div class="filters" fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-xs="row"
      fxLayoutAlign.gt-xs="space-between center">
      <mat-form-field class="category-selector">
  
          <mat-select placeholder="{{'Select Project Type' | translate}}" [(ngModel)]="currentCategory"
            (selectionChange)="filterProjectsByCategory()">
            <mat-option *ngFor="let category of projectType" [value]="category">
              {{category | translate}}
            </mat-option>
          </mat-select>
    
        </mat-form-field>
     
  
      <mat-form-field class="category-selector">
  
        <mat-select placeholder="{{'Select Organisation' | translate}}" [(ngModel)]="currentOrgs"
          (selectionChange)="filterProjectsByOrgs()">
          <mat-option *ngFor="let org of orgName" [value]="org">
            {{org | translate}}
          </mat-option>
        </mat-select>
  
      </mat-form-field>
     
      <!-- <mat-form-field class="project-search">
  
          <input matInput placeholder="{{'Search for a project' | translate}}" [(ngModel)]="searchTerm"
            (input)="filterProjectsByTerm()">
    </mat-form-field> -->
        <mat-form-field class="project-search">
          <input type="tel" matInput placeholder="{{'Search' | translate}}">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
    </div>
    <ngx-loading [show]="loading1" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    <div class="content">
      <div class="cards">
  
        <div class="card" *ngFor='let data of filteredProjects'>
          <!-- <div class="card-preview customHeight">
            <div class="comgo-card variable-width ml-28">
              <div fxLayout="row" class="pt-12 pl-12 pr-16 pb-12">
                <div fxFlex="15">
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Environmental' | translate}}" *ngIf="data.projectType=='Environmental'">
                    <mat-icon>local_florist</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Educational' | translate}}" *ngIf="data.projectType=='Educational'">
                    <mat-icon>school</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Health Care' | translate}}" *ngIf="data.projectType=='Health Care'">
                    <mat-icon>local_hospital</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Agricultural' | translate}}" *ngIf="data.projectType=='Agricultural'">
                    <mat-icon>nature_people</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Homeless' | translate}}" *ngIf="data.projectType=='Homeless'">
                    <mat-icon>sentiment_very_dissatisfied</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Sports' | translate}}" *ngIf="data.projectType=='Sports'">
                    <mat-icon>pool</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Arts and Culture' | translate}}" *ngIf="data.projectType=='Arts and Culture'">
                    <mat-icon>palette</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Research' | translate}}" *ngIf="data.projectType=='Research'">
                    <mat-icon>search</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Children' | translate}}" *ngIf="data.projectType=='Children'">
                    <mat-icon>child_care</mat-icon>
                  </button>
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Human Rights' | translate}}" *ngIf="data.projectType=='Human Rights'">
                    <mat-icon>nature_people</mat-icon>
                  </button>
                   <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Employment' | translate}}" *ngIf="data.projectType=='Employment'">
                    <mat-icon>nature_people</mat-icon>
                  </button> 
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Microfinance' | translate}}" *ngIf="data.projectType=='Microfinance'">
                    <mat-icon>nature_people</mat-icon>
                  </button> 
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Entrepreneurship' | translate}}" *ngIf="data.projectType=='Entrepreneurship'">
                    <mat-icon>nature_people</mat-icon>
                  </button> 
                  <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Equal Gender' | translate}}" *ngIf="data.projectType=='Equal Gender'">
                    <mat-icon>nature_people</mat-icon>
                  </button>
                <button mat-icon-button aria-label="more" class="primary-200-bg" matTooltip="{{'Project type' | translate}}:{{'Infrastructure' | translate}}" *ngIf="data.projectType=='Infrastructure'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                </div>
                <div fxFlex="65" class="pl-8 mr-16 pb-4 h2" id="projectName" aria-label="more">
                  <span class="text-truncate" matTooltip="{{data.projectName}}" (click)="audit(data)">{{data.projectName}}</span>
                  <span class="pt-8 h5 text-truncate"> {{'By' | translate}} : {{data.owner}}
                  </span>
                </div>
                <div fxFlex="10">
                  <div *ngIf="data.percentage < 100 && data.fundGoal != 0;else cantDonate">
                  <div class="pb-4" fxLayoutAlign="center start">
                    <button id="projectsDonation" mat-icon-button aria-label="add to favorites" (click)="towardsDonation(data)" class="red-500-fg" matTooltip="{{'Donate' | translate}}">
                      <mat-icon class=" red-500-fg secondary-text s-40 mat-icon material-icons" role="img" aria-hidden="true" matTooltip="{{'Donate' | translate}}">favorite</mat-icon>
                    </button>
                  </div>
                  <div class="secondary-text" fxLayoutAlign="center start">{{'Donate' | translate}}</div>
                  </div>
                  <ng-template #cantDonate>
                    <div class="pb-4" fxLayoutAlign="center start">
                      <button id="projectsDonation" mat-icon-button aria-label="add to favorites" class="red-500-fg" matTooltip="Donation limit exceeded" disabled>
                        <mat-icon class="secondary-text s-40 mat-icon material-icons" role="img" aria-hidden="true" matTooltip="Donation limit exceeded">favorite</mat-icon>
                      </button>
                    </div>
                  </ng-template>
                </div>
  
              </div>
              <div class="w-280 h-130">
                <div *ngIf="bgImageUrl!==''" matTooltip="{{'View Audit' | translate}}" matTooltipPosition="above" (click)="audit(data)" style="height:130px;width:280px"
                  [ngStyle]="{background: 'url('+data.bgImageUrl+') center center / cover no-repeat '}">
                </div>
                <div *ngIf="bgImageUrl==''" matTooltip="{{'View Audit' | translate}}" matTooltipPosition="above" (click)="audit(data)" [ngStyle]="{background: 'url('+data.defaultImageUrl+') center center / cover no-repeat '}">
                 
                </div>
              </div>
  
              <div class="price  mat-accent-bg p-8" fxLayout="row" fxLayoutAlign="center start">
                <div fxLayout="row" fxLayoutAlign="center end">
                  <div class="h2 value" matTooltip="Project Budget">{{data.projectBudget | number : '1.2-2'}} &nbsp;
                    <span style="font-size:10px">{{data.currency}}</span>
                  </div>
                </div>
              </div>
              <mat-progress-bar class="probgressbar mat-red" mode="determinate" value="{{data.percentage}}" matTooltip="{{data.percentage | number : '1.2-2'}}%"></mat-progress-bar>
              <div>
                <div class="pl-20" fxFlex.gt-sm="50">
                  <h3 style="color:#0040ff" matTooltip="{{'Fund Raised' | translate}}" class="username">{{data.fundRaised | number : '1.2-2'}} {{ data.currency}}</h3>
                </div>
                <div fxFlex.gt-sm="50" class="pr-20" fxLayoutAlign="end end">
                  <h3 style="color:#0040ff" matTooltip="{{'Balance' | translate}}" class="username">{{data.txnBalance | number : '1.2-2'}} {{ data.currency}}</h3>
                </div>
              </div>
              <div id="SDG">
                <img class="pl-8 p-2" *ngFor="let sdgData of data.SDG" matTooltip="{{sdgData.SDGType | translate}}" src={{sdgUrl}}{{sdgData.SDGType}}{{imageExtenstion}}
                  width="12%" height="12%" [@animate]="{value:'*',params:{delay:'50ms',scale:'10.0'}}">
              </div>
              <br/>
              <div id="SDG">
                <span class="text-truncate pl-8 p-2" style="color:#0040ff" matTooltip="{{data.description}}">{{'Description' | translate}} : {{data.description}}</span>
              </div>
            </div>
          </div> -->
  
  
  
  
  
          <div class="comgo-card cardsss" style="border-radius:3%!important;" variable-width ml-28>
  
            
            <div class="w-280 h-130" style="height: 20%; width: 20%!;">
              <div *ngIf="bgImageUrl!==''" matTooltip="{{'View Audit' | translate}}" matTooltipPosition="above"
                (click)="audit(data)"
                style="height:180px;width:280px;border-top-left-radius:3%!important; border-top-right-radius:3%!important;"
                [ngStyle]="{background: 'url('+data.bgImageUrl+') center center / cover no-repeat '}">
              </div>
              <div *ngIf="bgImageUrl==''" matTooltip="{{'View Audit' | translate}}" matTooltipPosition="above"
                (click)="audit(data)"
                [ngStyle]="{background: 'url('+data.defaultImageUrl+') center center / cover no-repeat '}"
                style="height:230px;width:280px; border-top-left-radius:2%!important; border-top-right-radius:2%!important;">
  
              </div>
            </div>
  
  
  
            <div class="pt-12 pr-12 pl-0">
              <div fxFlex="65" class="pl-8 mr-16 pb-4 h2" id="projectName" aria-label="more">
                <span class="text-truncate" style="font-family:Roboto !important; color: #363636;"
                  matTooltip="{{data.projectName}}" (click)="audit(data)">{{data.projectName}}</span>
                <span class="pt-2 h5 text-truncate"> {{data.owner}}
                </span>
              </div>
            </div>
  
            <div class="p-10">
              <div fxFlex="17">
                 
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Environmental' | translate}}"
                  *ngIf="data.projectType=='Environmental'">
                  <mat-icon>local_florist</mat-icon>
                </button>
               
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Educational' | translate}}"
                  *ngIf="data.projectType=='Educational'">
                  <mat-icon>school</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Health Care' | translate}}"
                  *ngIf="data.projectType=='Health Care'">
                  <mat-icon>local_hospital</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Agricultural' | translate}}"
                  *ngIf="data.projectType=='Agricultural'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Homeless' | translate}}"
                  *ngIf="data.projectType=='Homeless'">
                  <mat-icon>sentiment_very_dissatisfied</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Sports' | translate}}" *ngIf="data.projectType=='Sports'">
                  <mat-icon>pool</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Arts and Culture' | translate}}"
                  *ngIf="data.projectType=='Arts and Culture'">
                  <mat-icon>palette</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Research' | translate}}"
                  *ngIf="data.projectType=='Research'">
                  <mat-icon>search</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Children' | translate}}"
                  *ngIf="data.projectType=='Children'">
                  <mat-icon>child_care</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Human Rights' | translate}}"
                  *ngIf="data.projectType=='Human Rights'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Employment' | translate}}"
                  *ngIf="data.projectType=='Employment'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Microfinance' | translate}}"
                  *ngIf="data.projectType=='Microfinance'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Entrepreneurship' | translate}}"
                  *ngIf="data.projectType=='Entrepreneurship'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Equal Gender' | translate}}"
                  *ngIf="data.projectType=='Equal Gender'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <button mat-icon-button aria-label="more"
                  matTooltip="{{'Infrastructure' | translate}}"
                  *ngIf="data.projectType=='Infrastructure'">
                  <mat-icon>nature_people</mat-icon>
                </button>
                <!-- <span fxFlex="80">
                  <span id="SDG">
                    <img class="pl-10 p-2 padding" *ngFor="let sdgData of data.SDG"
                      matTooltip="{{sdgData.SDGType | translate}}" src={{sdgUrl}}{{sdgData.SDGType}}{{imageExtenstion}}
                      width="12%" height="12%" [@animate]="{value:'*',params:{delay:'50ms',scale:'10.0'}}"
                      style="float:right ;" style="padding-right: 2px;">
                  </span>
                </span> -->
             
              </div>
              <div fxFlex="80">
                <div id="SDG">
                  <img class="pl-11 p-2 padding" *ngFor="let sdgData of data.SDG"
                    matTooltip="{{sdgData.SDGType | translate}}" src={{sdgUrl}}{{sdgData.SDGType}}{{imageExtenstion}}
                    width="12%" height="12%" [@animate]="{value:'*',params:{delay:'50ms',scale:'10.0'}}"
                    style="float:right ;" style="padding-right: 3px;">
                </div>
              </div>
            </div>
  
            <!-- <div class="p-16 pt-0 line-height-1.75" style="text-align: justify; color: #363636;"> -->
            <!-- <div class="module overflow"> 
              <p>Description: Cards provide context and an entry point to more robust information and views, and
                their content and quantity can vary greatly</p>
              </div> -->
            <div style="height: 100px; padding-left:4%; padding-right: 4%; font-family: Roboto; text-align: justify;">
                {{
                  data.description?.length > 75
  ? (data.description | slice: 0:95) + "..."
  : data.description
  }}
            </div>
            <!-- </div> -->
            <mat-progress-bar class="probgressbar mat-red" mode="determinate" value="{{data.percentage}}"
              matTooltip="{{data.percentage | number : '1.2-2'}}%"></mat-progress-bar>
            <div style="height: 5%;">
              <div fxFlex="50"> <span style="text-align: center;">
                  <h3 style="font-weight: bold; color:#363636;"
                    class="username">{{data.fundRaised | currency:data.currency}}</h3><span
                    style="padding-left:20%;color:grey;">{{'Fund Raised' | translate}}</span>
                </span> </div><br>
              <div fxFlex="50"><span style="text-align: center;">
                  <h3 style="font-weight: bold; color:#363636" class="username">
                    {{data.projectBudget | currency:data.currency}}</h3><span
                    style="padding-left: 30%; color:grey">{{'Budget' | translate }}</span>
                </span></div><br>
            </div>
            <br>
            <div>
              <!-- <div fxFlex="50"> <h3 class="center" style="color:#0040ff" Fundraised matTooltip="{{'Fund Raised' | translate}}" ></h3>{{'Fund Raised' | translate}}</div> -->
              <!-- <div fxFlex="50"><h3 style="color:#0040ff" matTooltip="{{'Budget' | translate}}"></h3>{{'Budget' | translate}}</div> -->
            </div>
  
          </div>
        </div>
  
      </div>
  
    </div>
    <hr>
    <footer>
            <br/>
            <br/>
            <p style="text-align: center;">Copyright © 2020</p>
            <br/>
          <br/>
          </footer>
  </div>
  